@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global Reset */
* {
  @apply m-0 box-border p-0;
}

html,
body {
  @apply m-0 border-none bg-transparent p-0;
}

#root {
  @apply m-0 border-none p-0;
}

/* Popup Container */
.popup-container {
  @apply relative m-0 flex max-h-[800px] min-h-fit w-96 flex-col overflow-y-auto border-none bg-gradient-to-br from-slate-50 to-slate-100 p-0 font-system shadow-2xl backdrop-blur-[8px] transition-all duration-300;
}

.popup-container.dark-mode {
  @apply bg-gradient-to-br from-slate-800 to-slate-900 text-slate-300;
}

.popup-container.dark-mode .controls {
  @apply border-slate-700 bg-slate-800;
}

.popup-container.dark-mode .popup-header {
  @apply border-primary;
}

.popup-container.dark-mode .tabs {
  @apply border-slate-700 bg-slate-800;
}

.popup-container.dark-mode .tab {
  @apply text-slate-400;
}

.popup-container.dark-mode .tab:hover {
  @apply text-primary;
}

.popup-container.dark-mode .tab.active {
  @apply border-primary text-primary;
}

.popup-container.dark-mode .content {
  @apply bg-slate-900;
}

.popup-container.dark-mode .cluster-item {
  @apply border-transparent bg-slate-800;
}

.popup-container.dark-mode .cluster-info {
  @apply text-slate-300;
}

.popup-container.dark-mode .cluster-title {
  @apply text-slate-300;
}

.popup-container.dark-mode .cluster-count {
  @apply text-slate-500;
}

.popup-container.dark-mode .color-item {
  @apply border-transparent bg-transparent;
}

.popup-container.dark-mode .color-code {
  @apply w-full truncate text-slate-300;
}

/* Header */
.popup-header {
  @apply flex flex-col gap-2 border-b-2 border-secondary bg-gradient-to-r from-primary to-secondary px-4 py-4 text-white shadow-md transition-all duration-300;
}

.header-top {
  @apply flex items-center justify-between gap-3;
}

.header-controls {
  @apply flex items-center gap-2;
}

.theme-btn {
  @apply cursor-pointer rounded-md border border-white/30 bg-white/20 px-2 py-1.5 text-base text-white transition-all duration-200 hover:border-white/50 hover:bg-white/30;
}

.language-select {
  @apply cursor-pointer rounded-md border border-white/30 bg-white/20 px-2 py-1.5 text-xs text-white transition-all duration-200 hover:border-white/50 hover:bg-white/30;
}

.language-select option {
  @apply bg-slate-800 text-white;
}

.popup-header h1 {
  @apply m-0 text-lg font-bold tracking-wider;
}

.popup-header .subtitle {
  @apply m-0 text-xs opacity-90;
  margin-top: 4px;
}

/* Controls */
.controls {
  @apply flex flex-shrink-0 flex-col gap-3 border-b border-slate-200 bg-white px-4 py-3;
}

.scan-btn {
  @apply cursor-pointer rounded-md bg-primary px-4 py-2 font-semibold text-white transition-colors duration-200 hover:bg-blue-600 disabled:cursor-not-allowed disabled:opacity-60;
  font-size: 14px;
}

.threshold-control {
  @apply flex items-center gap-2 text-sm text-slate-800;
}

.popup-container.dark-mode .threshold-control {
  @apply text-slate-400;
}

.threshold-control label {
  @apply min-w-fit font-medium text-slate-800;
}

.popup-container.dark-mode .threshold-control label {
  @apply text-slate-400;
}

.threshold-value {
  @apply min-w-7 text-right font-semibold text-primary;
}

.delta-e-info {
  @apply m-0 border-t border-slate-200 px-2 py-2 text-xs leading-relaxed text-slate-600;
}

.popup-container.dark-mode .delta-e-info {
  @apply border-slate-700 text-slate-400;
}

.threshold-control input {
  @apply h-1 flex-1 cursor-pointer;
}

/* Tabs */
.tabs {
  @apply flex flex-shrink-0 gap-4 border-b border-slate-200 bg-white px-4;
}

.tab {
  @apply cursor-pointer border-b-2 border-transparent bg-none px-2 py-1 font-medium text-slate-500 transition-all duration-200 hover:text-primary;
  font-size: 13px;
}

.tab.active {
  @apply border-primary text-primary;
}

/* Content Area */
.content {
  @apply min-h-fit flex-1 px-4 py-3;
}

.empty-state {
  @apply px-4 py-8 text-center text-sm text-slate-500;
}

/* Clusters View */
.clusters-view {
  @apply flex flex-col gap-3;
}

.cluster-item {
  @apply rounded-lg border border-slate-200 bg-white px-3 py-1 shadow-sm;
}

.cluster-header {
  @apply mb-3 flex cursor-pointer items-center gap-3;
}

.color-preview {
  @apply h-10 w-10 flex-shrink-0 rounded-md border border-slate-200 shadow-sm;
}

.cluster-info {
  @apply flex flex-col gap-0.5;
}

.cluster-title {
  @apply font-mono text-sm font-semibold text-slate-900;
}

.cluster-count {
  @apply text-xs text-slate-500;
}

.cluster-colors {
  @apply flex flex-wrap gap-2;
}

.color-chip {
  @apply relative min-w-max flex-1 cursor-pointer overflow-hidden rounded border border-slate-200 bg-slate-100 px-1.5 py-0.5 font-mono text-xs transition-all duration-200 hover:border-primary hover:shadow-md;
}

.color-chip:hover {
  box-shadow: 0 2px 6px rgba(102, 126, 234, 0.2);
}

.color-chip.active {
  @apply scale-105 border-4 border-primary bg-slate-50;
  box-shadow:
    0 0 0 2px rgba(102, 126, 234, 0.3),
    inset 0 0 0 1px #667eea,
    0 4px 12px rgba(102, 126, 234, 0.3);
}

.color-label {
  @apply overflow-hidden text-ellipsis whitespace-nowrap font-mono text-xs font-semibold;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Colors View */
.color-grid {
  @apply grid gap-4 overflow-hidden p-4;
  grid-template-columns: repeat(auto-fill, minmax(64px, 1fr));
}

.color-item {
  @apply flex cursor-pointer flex-col items-center gap-2 transition-transform duration-200 hover:-translate-y-[1px];
}

.color-square {
  @apply h-12 w-12 rounded-lg border-1 border-slate-200 shadow-md transition-all duration-200;
}

.color-item:hover .color-square {
  @apply border-primary shadow-lg;
}

.color-item.active .color-square {
  @apply scale-105 border-4 border-primary;
  box-shadow:
    0 0 0 3px rgba(102, 126, 234, 0.4),
    inset 0 0 0 2px #667eea,
    0 6px 16px rgba(102, 126, 234, 0.4);
}

.color-code {
  @apply max-w-min break-all rounded border border-slate-200 bg-slate-50 px-1.5 py-0.5 text-center font-mono text-xs font-semibold text-slate-900 transition-all duration-200;
}

/* Scrollbar */
.popup-container::-webkit-scrollbar {
  @apply w-1;
}

.popup-container::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.popup-container::-webkit-scrollbar-thumb {
  @apply rounded bg-slate-300 hover:bg-slate-500;
}
